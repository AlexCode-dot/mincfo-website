.section {
  position: relative;
  margin-top: -2px;
  padding: clamp(146px, 16.5vh, 212px) 0 clamp(274px, 24vh, 370px);
  overflow: hidden;
}

.curveCut {
  position: absolute;
  inset: -2px 0 auto;
  width: 100%;
  height: 170px;
  z-index: 2;
  pointer-events: none;
}

.curveCut path {
  fill: transparent;
  stroke: rgba(99, 142, 219, 0.1);
  stroke-width: 1.3;
}

.background {
  position: absolute;
  inset: -2px 0 0;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(62% 54% at 20% 8%, rgba(28, 82, 123, 0.18), transparent 72%),
    radial-gradient(56% 44% at 84% 76%, rgba(19, 59, 96, 0.18), transparent 74%),
    linear-gradient(180deg, rgba(8, 14, 24, 0.98), rgba(7, 12, 22, 0.99));
}

.background::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: radial-gradient(rgba(122, 161, 215, 0.14) 1px, transparent 1px);
  background-size: 8px 8px;
  opacity: 0.16;
}

.container {
  position: relative;
  z-index: 3;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-pad);
  text-align: center;
  padding-top: clamp(18px, 2.4vh, 30px);
}

.header {
  max-width: 800px;
  margin: 0 auto;
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 560ms ease, transform 560ms ease;
}

.pill {
  display: inline-flex;
  align-items: center;
  padding: 8px 16px;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(118, 152, 238, 0.34);
  background: rgba(12, 24, 40, 0.62);
  color: rgba(203, 223, 250, 0.9);
  font-size: 0.82rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.header h2 {
  margin: 14px 0 0;
  color: rgba(236, 245, 255, 0.96);
  font-size: clamp(2rem, 3vw, 2.8rem);
  line-height: 1.08;
  letter-spacing: -0.02em;
}

.header p {
  margin: 14px 0 0;
  color: rgba(165, 186, 217, 0.92);
  font-size: 1.02rem;
  line-height: 1.55;
  margin-left: auto;
  margin-right: auto;
}

.grid {
  margin-top: 42px;
  position: relative;
  min-height: 0;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 26px;
  max-width: 1120px;
  margin-left: auto;
  margin-right: auto;
  opacity: 0;
  transform: translateY(16px);
  transition: opacity 580ms ease 80ms, transform 580ms ease 80ms;
}

.grid::before {
  content: "";
  position: absolute;
  inset: -40px 0 auto;
  height: 180px;
  background: radial-gradient(50% 100% at 50% 50%, rgba(82, 112, 238, 0.14), transparent 72%);
  filter: blur(18px);
  pointer-events: none;
}

.card {
  position: relative;
  min-height: 382px;
  padding: 30px 24px 26px;
  border-radius: 14px;
  background:
    radial-gradient(120% 92% at 50% -8%, rgba(62, 102, 220, 0.18), transparent 58%),
    linear-gradient(165deg, rgba(8, 16, 28, 0.96), rgba(6, 12, 22, 0.98));
  box-shadow:
    0 16px 30px rgba(3, 8, 16, 0.36),
    inset 0 0 0 1px rgba(115, 149, 231, 0.24);
  opacity: 0;
  transform: translateY(18px) scale(0.98);
  transition: opacity 560ms ease, transform 560ms cubic-bezier(0.22, 0.82, 0.2, 1), box-shadow 560ms ease;
  overflow: hidden;
}

.card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(80% 56% at 50% 6%, rgba(91, 128, 233, 0.12), transparent 62%),
    radial-gradient(60% 48% at 50% 28%, rgba(74, 115, 212, 0.08), transparent 72%);
  pointer-events: none;
}

.visual {
  position: absolute;
  left: 50%;
  top: 22px;
  width: 172px;
  height: 124px;
  transform: translateX(-50%);
  border-radius: 24px;
  display: grid;
  place-items: center;
  background: transparent;
  box-shadow: none;
  pointer-events: none;
  overflow: hidden;
  isolation: isolate;
}

.visual::before {
  content: "";
  position: absolute;
  inset: 4px;
  border-radius: inherit;
  background-image: radial-gradient(rgba(102, 132, 255, 0.2) 0.8px, transparent 0.8px);
  background-size: 10px 10px;
  opacity: 0.06;
}

.visualIcon {
  position: relative;
  z-index: 3;
  color: rgba(188, 205, 255, 0.92);
  filter: drop-shadow(0 0 8px rgba(86, 118, 236, 0.26));
}

.visualHalo {
  position: absolute;
  z-index: 1;
  inset: 14px 16px;
  border-radius: 999px;
  background: radial-gradient(circle, rgba(89, 114, 255, 0.26), rgba(52, 86, 176, 0.08) 58%, transparent 78%);
  filter: blur(10px);
}

.visualShield::after {
  content: "";
  position: absolute;
  z-index: 2;
  width: 84px;
  height: 92px;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -52%);
  clip-path: polygon(50% 0%, 86% 22%, 86% 58%, 50% 100%, 14% 58%, 14% 22%);
  background: linear-gradient(180deg, rgba(129, 236, 206, 0.3), rgba(47, 160, 130, 0.09));
  box-shadow:
    0 0 20px rgba(70, 221, 166, 0.16),
    inset 0 0 0 1px rgba(136, 230, 202, 0.2);
}

.visualShield::before {
  content: "";
  position: absolute;
  inset: 2px;
  border-radius: 22px;
  background:
    radial-gradient(56% 50% at 50% 44%, rgba(63, 220, 164, 0.1), transparent 72%),
    conic-gradient(
      from 0deg,
      rgba(112, 255, 214, 0.06),
      rgba(112, 255, 214, 0) 18%,
      rgba(112, 255, 214, 0.04) 37%,
      rgba(112, 255, 214, 0) 58%,
      rgba(112, 255, 214, 0.06) 77%,
      rgba(112, 255, 214, 0)
    );
  animation: shieldSweep 14s linear infinite;
}

.visualPulse {
  position: absolute;
  inset: 26px 30px;
  border-radius: 999px;
  border: 1px solid rgba(124, 160, 255, 0.24);
  opacity: 0.4;
  animation: securityPulse 7s ease-in-out infinite;
}

.card:nth-child(1) {
  min-height: 364px;
}

.card:nth-child(1) .visual {
  top: 16px;
  width: 188px;
  height: 154px;
}

.card:nth-child(1) .visual::before {
  opacity: 0.03;
}

.card:nth-child(1) .visualShield {
  background:
    radial-gradient(54% 44% at 50% 46%, rgba(92, 126, 255, 0.12), transparent 70%),
    radial-gradient(90% 60% at 50% 72%, rgba(52, 119, 192, 0.1), transparent 78%);
}

.card:nth-child(1) .visualHalo {
  inset: 26px 32px;
  background: radial-gradient(circle, rgba(94, 130, 255, 0.16), rgba(50, 115, 190, 0.03) 62%, transparent 80%);
}

.card:nth-child(1) .visualShield::after {
  content: none;
}

.card:nth-child(1) .visualShield::before {
  content: none;
}

.card:nth-child(1) .visualPulse {
  display: none;
}

.card:nth-child(1) .visualIcon {
  color: rgba(212, 221, 255, 0.96);
  filter: drop-shadow(0 0 6px rgba(94, 128, 255, 0.24));
}

.shieldStack {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 142px;
  height: 164px;
  transform: translate(-50%, -50%);
  overflow: visible;
}

.shieldStack path {
  fill: none;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.shieldOuter {
  stroke: rgba(114, 146, 255, 0.18);
  stroke-width: 0.8;
  transform-origin: 50% 50%;
  animation: shieldLineBreath 6.2s ease-in-out infinite;
}

.shieldMid {
  stroke: rgba(121, 153, 255, 0.28);
  stroke-width: 1;
  transform: scale(0.86);
  transform-origin: 50% 50%;
  animation: shieldLineBreath 6.2s ease-in-out infinite 0.6s;
}

.shieldMain {
  stroke: rgba(145, 173, 255, 0.76);
  stroke-width: 1.35;
  transform: scale(0.72);
  transform-origin: 50% 50%;
  filter: drop-shadow(0 0 8px rgba(94, 128, 255, 0.26));
  animation: shieldLineGlow 5.4s ease-in-out infinite;
}

.shieldTickLeft,
.shieldTickRight {
  display: none;
}

.shieldArcOuter,
.shieldArcInner {
  display: none;
}

.visualFlow::before {
  content: "";
  position: absolute;
  z-index: 1;
  left: 22px;
  right: 22px;
  top: 50%;
  transform: translateY(-50%);
  height: 1px;
  background: linear-gradient(90deg, rgba(93, 152, 237, 0), rgba(121, 156, 255, 0.34), rgba(93, 152, 237, 0));
  filter: blur(0.4px);
}

.visualFlow::after {
  content: "";
  position: absolute;
  z-index: 1;
  left: 24px;
  right: 24px;
  top: 50%;
  transform: translateY(-50%);
  height: 10px;
  background: linear-gradient(90deg, transparent 0%, rgba(130, 165, 255, 0.32) 50%, transparent 100%);
  opacity: 0.22;
  filter: blur(5px);
  animation: flowTravel 6.4s ease-in-out infinite;
}

.flowNodeLeft,
.flowNodeRight {
  position: absolute;
  z-index: 2;
  top: 50%;
  width: 34px;
  height: 34px;
  transform: translateY(-50%);
  border-radius: 11px;
  background: rgba(8, 21, 34, 0.9);
  box-shadow:
    inset 0 0 0 1px rgba(115, 146, 250, 0.38),
    0 0 10px rgba(89, 116, 235, 0.22);
  display: grid;
  place-items: center;
}

.flowNodeLeft {
  left: -6px;
}

.flowNodeRight {
  right: -6px;
}

.flowNodeIcon {
  color: rgba(184, 205, 255, 0.86);
  filter: drop-shadow(0 0 4px rgba(100, 128, 255, 0.3));
  stroke-width: 1.7;
}

.flowLinkLeft,
.flowLinkRight {
  position: absolute;
  top: 50%;
  height: 1px;
  z-index: 2;
  pointer-events: none;
}

.flowLinkLeft {
  left: 28px;
  width: 44px;
  background: linear-gradient(90deg, rgba(132, 165, 255, 0.46), rgba(132, 165, 255, 0.1));
}

.flowLinkRight {
  right: 28px;
  width: 44px;
  background: linear-gradient(90deg, rgba(132, 165, 255, 0.1), rgba(132, 165, 255, 0.46));
}

.flowLinkLeft::after,
.flowLinkRight::after {
  content: "";
  position: absolute;
  top: 50%;
  width: 14px;
  height: 1px;
  transform: translateY(-50%);
  background: linear-gradient(90deg, rgba(166, 190, 255, 0), rgba(166, 190, 255, 0.95), rgba(166, 190, 255, 0));
  filter: blur(0.4px);
}

.flowLinkLeft::after {
  left: -2px;
  animation: flowLinkLeftTravel 2.8s ease-in-out infinite;
}

.flowLinkRight::after {
  right: -2px;
  animation: flowLinkRightTravel 2.8s ease-in-out infinite;
}

.flowCoreIcon {
  animation: flowCoreSpin 8.5s linear infinite;
}

.card:nth-child(2) .visualFlow {
  width: 214px;
  overflow: visible;
  background:
    radial-gradient(46% 42% at 50% 50%, rgba(106, 138, 255, 0.14), transparent 68%),
    radial-gradient(65% 54% at 50% 50%, rgba(84, 168, 236, 0.07), transparent 78%);
}

.card:nth-child(2) .visualFlow .visualHalo {
  inset: 20px 30px;
  background: radial-gradient(circle, rgba(102, 134, 255, 0.22), rgba(58, 125, 190, 0.05) 58%, transparent 78%);
}

.card:nth-child(2) .visualFlow .visualIcon {
  width: 64px;
  height: 64px;
  padding: 16px;
  border-radius: 16px;
  background: rgba(8, 20, 32, 0.92);
  box-shadow:
    inset 0 0 0 1px rgba(124, 159, 255, 0.46),
    0 0 20px rgba(94, 178, 251, 0.24);
  color: rgba(208, 220, 255, 0.96);
  filter: drop-shadow(0 0 8px rgba(106, 140, 255, 0.26));
}

.card:nth-child(2) .visualFlow::before {
  opacity: 1;
}

.card:nth-child(2) .visualFlow::after {
  opacity: 0.26;
}

.card:nth-child(2) .visual::before {
  inset: 8px;
  border-radius: 18px;
  background-image: radial-gradient(rgba(116, 152, 255, 0.22) 0.8px, transparent 0.8px);
  background-size: 8px 8px;
  opacity: 0.15;
}

.visualCore::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 128px;
  height: 96px;
  border-radius: 10px;
  transform: translate(-50%, -50%);
  background:
    radial-gradient(64% 72% at 50% 50%, rgba(72, 154, 232, 0.14), transparent 72%),
    linear-gradient(180deg, rgba(10, 24, 44, 0.34), rgba(7, 15, 30, 0.08));
  opacity: 0.84;
}

.visualCore::after {
  content: "";
  position: absolute;
  z-index: 1;
  inset: 6px;
  border-radius: 18px;
  background-image:
    linear-gradient(rgba(114, 148, 255, 0.2) 1px, transparent 1px),
    linear-gradient(90deg, rgba(114, 148, 255, 0.2) 1px, transparent 1px);
  background-size: 14px 14px;
  opacity: 0.2;
  mask-image: radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.96) 28%, rgba(0, 0, 0, 0.72) 58%, transparent 84%);
  -webkit-mask-image: radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.96) 28%, rgba(0, 0, 0, 0.72) 58%, transparent 84%);
  animation: coreGridPulse 7.2s ease-in-out infinite;
}

.coreRing {
  position: absolute;
  z-index: 2;
  width: 82px;
  height: 82px;
  border-radius: 999px;
  border: 1px solid rgba(123, 157, 255, 0.26);
  background: radial-gradient(circle at 50% 42%, rgba(8, 20, 38, 0.94), rgba(4, 11, 24, 0.98));
  box-shadow:
    0 0 16px rgba(94, 128, 255, 0.18),
    inset 0 0 0 1px rgba(123, 156, 255, 0.1);
  animation: coreRingPulse 5.6s ease-in-out infinite;
}

.card:nth-child(3) .visualCore {
  background: radial-gradient(48% 46% at 50% 50%, rgba(74, 159, 236, 0.09), transparent 74%);
}

.card:nth-child(3) .visualCore .visualHalo {
  inset: 22px 28px;
  background: radial-gradient(circle, rgba(87, 174, 251, 0.18), rgba(42, 99, 166, 0.05) 62%, transparent 80%);
}

.card:nth-child(3) .visualCore .visualIcon {
  color: rgba(206, 219, 255, 0.95);
  filter: drop-shadow(0 0 7px rgba(106, 140, 255, 0.22));
}

.card h3 {
  margin: 188px 0 0;
  color: rgba(227, 238, 252, 0.96);
  font-size: 1.14rem;
  line-height: 1.25;
  text-align: left;
}

.card p {
  margin: 14px 0 0;
  color: rgba(162, 186, 218, 0.92);
  font-size: 0.92rem;
  line-height: 1.6;
  text-align: left;
}

.card:nth-child(2) .visual,
.card:nth-child(3) .visual {
  width: 172px;
  height: 124px;
  border-radius: 22px;
}

.card:nth-child(2) .visualIcon,
.card:nth-child(3) .visualIcon {
  transform: scale(0.92);
}

.visible .card {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.visible .card:nth-child(1) {
  transition-delay: 40ms;
}

.visible .card:nth-child(2) {
  transition-delay: 120ms;
}

.visible .card:nth-child(3) {
  transition-delay: 200ms;
}

.visible .header,
.visible .grid {
  opacity: 1;
  transform: translateY(0);
}

@media (max-width: 980px) {
  .grid {
    grid-template-columns: 1fr;
    gap: 18px;
    max-width: 640px;
  }

  .grid::before {
    inset: -20px 0 auto;
  }

  .card {
    min-height: 278px;
    padding: 22px;
  }

  .card h3 {
    margin-top: 164px;
  }
}

@media (max-width: 760px) {
  .section {
    padding: 84px 0 170px;
  }

  .curveCut {
    height: 140px;
  }

  .grid {
    gap: 12px;
  }

  .grid::before {
    display: none;
  }

  .card {
    min-height: 0;
    border-radius: 16px;
    opacity: 1;
    transform: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .card {
    transition: none;
    opacity: 1;
    transform: none;
  }

  .visualPulse,
  .coreRing,
  .flowCoreIcon,
  .flowLinkLeft::after,
  .flowLinkRight::after,
  .visualShield::before,
  .visualFlow::after,
  .visualCore::after,
  .shieldOuter,
  .shieldMid,
  .shieldMain,
  .shieldTickLeft,
  .shieldTickRight {
    animation: none;
  }
}

@keyframes securityPulse {
  0% {
    transform: scale(0.88);
    opacity: 0.46;
  }
  50% {
    transform: scale(1.08);
    opacity: 0.12;
  }
  100% {
    transform: scale(0.88);
    opacity: 0.46;
  }
}

@keyframes coreSpin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes shieldSweep {
  from {
    transform: rotate(0deg);
    opacity: 0.38;
  }
  50% {
    opacity: 0.52;
  }
  to {
    transform: rotate(360deg);
    opacity: 0.38;
  }
}

@keyframes flowTravel {
  0% {
    transform: translateY(-50%) translateX(-36%);
    opacity: 0;
  }
  22% {
    opacity: 0.24;
  }
  52% {
    opacity: 0.32;
  }
  100% {
    transform: translateY(-50%) translateX(36%);
    opacity: 0;
  }
}

@keyframes circuitBlink {
  0%,
  100% {
    opacity: 0.14;
  }
  50% {
    opacity: 0.3;
  }
}

@keyframes flowCoreSpin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes coreRingPulse {
  0%,
  100% {
    box-shadow:
      0 0 16px rgba(94, 128, 255, 0.18),
      inset 0 0 0 1px rgba(123, 156, 255, 0.12);
  }
  50% {
    box-shadow:
      0 0 24px rgba(94, 128, 255, 0.26),
      inset 0 0 0 1px rgba(123, 156, 255, 0.18);
  }
}

@keyframes coreCrossPulse {
  0%,
  100% {
    opacity: 0.36;
  }
  50% {
    opacity: 0.62;
  }
}

@keyframes coreGridPulse {
  0%,
  100% {
    opacity: 0.14;
  }
  50% {
    opacity: 0.24;
  }
}

@keyframes flowLinkLeftTravel {
  0% {
    transform: translateY(-50%) translateX(2px);
    opacity: 0;
  }
  30% {
    opacity: 0.9;
  }
  100% {
    transform: translateY(-50%) translateX(34px);
    opacity: 0;
  }
}

@keyframes flowLinkRightTravel {
  0% {
    transform: translateY(-50%) translateX(-2px);
    opacity: 0;
  }
  30% {
    opacity: 0.9;
  }
  100% {
    transform: translateY(-50%) translateX(-34px);
    opacity: 0;
  }
}

@keyframes shieldTickBlink {
  0%,
  100% {
    opacity: 0.18;
  }
  50% {
    opacity: 0.78;
  }
}

@keyframes shieldLineBreath {
  0%,
  100% {
    opacity: 0.2;
    transform: scale(1);
  }
  50% {
    opacity: 0.34;
    transform: scale(1.03);
  }
}

@keyframes shieldLineGlow {
  0%,
  100% {
    opacity: 0.64;
  }
  50% {
    opacity: 0.92;
  }
}
